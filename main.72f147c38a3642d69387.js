(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3lCM":function(n,e,t){var r=t("mp5j");n.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(n,e,t,r,a){var i,o=n.lambda,c=n.escapeExpression;return'<h2>Current weather</h2>\r\n<img class="icon" src="'+c(o(null!=(i=null!=e?e.current:e)?i.weather_icons:i,e))+'" alt="'+c(o(null!=(i=null!=e?e.current:e)?i.weather_descriptions:i,e))+'" />\r\n<p>Location: <span data-field="location">'+c(o(null!=(i=null!=e?e.location:e)?i.name:i,e))+'</span></p>\r\n<p>Temperature: <span data-field="temp">'+c(o(null!=(i=null!=e?e.current:e)?i.temperature:i,e))+'&#8451;</span></p>\r\n<p>Humidity: <span data-field="humidity">'+c(o(null!=(i=null!=e?e.current:e)?i.humidity:i,e))+'</span></p>\r\n<p>Wind: <span data-field="wind">'+c(o(null!=(i=null!=e?e.current:e)?i.wind_speed:i,e))+'kph</span></p>\r\n<p>Conditions: <span data-field="conditions">'+c(o(null!=(i=null!=e?e.current:e)?i.weather_descriptions:i,e))+"</span></p>"},useData:!0})},L1EO:function(n,e,t){},QfWi:function(n,e,t){"use strict";t.r(e);t("L1EO"),t("JBxO"),t("FdtR");var r="http://api.weatherstack.com/current";function a(n){return fetch(r+"?access_key=e80b1338f6db063f3d397ba66dc07fa6"+("&query="+n)).then(function(n){return n.json()}).catch(function(n){console.error(n.message)})}var i=t("3lCM"),o=t.n(i),c=(t("UOjr"),t("dIfx"));function u(){var n={maximumAge:18e5};return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,n)})}u().then(function(n){return n}).catch(function(n){return console.error(n),c.a.notice({text:"Нет прав доступа к геопозиции, используйте поиск по имени города."})});var s=document.querySelector("#spinner"),l={show:function(){s.classList.remove("is-hidden")},hide:function(){s.classList.add("is-hidden")}},d={searchForm:document.querySelector("#search-form"),weatherSection:document.querySelector("#weather")};function p(n){var e=o()(n);d.weatherSection.insertAdjacentHTML("beforeend",e),d.weatherSection.classList.remove("is-hidden")}u().then(function(n){var e=n.coords.latitude+","+n.coords.longitude;l.show(),a(e).then(function(n){l.hide(),p(n)}).catch(function(n){return console.warn(n)})}),d.searchForm.addEventListener("submit",function(n){n.preventDefault();var e=n.currentTarget.elements.city;d.weatherSection.innerHTML="",l.show(),a(e.value).then(function(n){l.hide(),p(n)}).catch(function(n){return console.warn(n)}),e.value=""})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.72f147c38a3642d69387.js.map