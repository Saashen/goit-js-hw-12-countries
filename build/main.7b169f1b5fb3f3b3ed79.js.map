{"version":3,"sources":["webpack:///./templates/countryMarkupTemplate.hbs","webpack:///./js/fetchCountries.js","webpack:///./js/spinner.js","webpack:///./index.js","webpack:///./templates/countriesMarkupTemplate.hbs"],"names":["Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","data","escapeExpression","lambda","name","compiler","main","stack1","helper","alias1","nullContext","alias2","helperMissing","alias3","alias4","call","hash","capital","population","each","languages","fn","program","inverse","noop","flag","useData","baseURL","spinner","document","querySelector","js_spinner","show","classList","remove","hide","add","debounce","require","refs","inputForm","countrySection","addEventListener","e","input","target","innerHTML","value","fetch","then","response","json","catch","error","console","log","checkOne","length","notice","PNotify","text","checkTwo","forEach","country","items","markup","countriesShowTemplate","insertAdjacentHTML","countries","item","countryShowTemplate"],"mappings":"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","file":"main.7b169f1b5fb3f3b3ed79.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"                <li class=\\\"country-languages\\\" data-field=\\\"languages\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"country-wrap\\\">\\r\\n    <h2 class=\\\"country-name\\\" data-field=\\\"country\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\r\\n    <div>\\r\\n        <p class=\\\"country-capital\\\"><span class=\\\"bold\\\">Capital:</span> \"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\r\\n        <p class=\\\"country-population\\\"><span class=\\\"bold\\\">Population:</span> \"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\r\\n        <p class=\\\"country-languages\\\"><span class=\\\"bold\\\">Languages:</span>\\r\\n            <ul>\\r\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n        </p>\\r\\n    </div>\\r\\n\\r\\n    <img class=\\\"country-flag\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\r\\n</div>\";\n},\"useData\":true});","const baseURL = 'https://restcountries.eu/rest/v2/name/';\r\n\r\nexport default function fetchWeather(name) {\r\n  return fetch(baseURL + name)\r\n    .then(response => response.json())\r\n    .catch(error => console.log(error));\r\n}\r\n","const spinner = document.querySelector('#spinner');\r\n\r\nexport default {\r\n  show() {\r\n    spinner.classList.remove('is-hidden');\r\n  },\r\n  hide() {\r\n    spinner.classList.add('is-hidden');\r\n  },\r\n};\r\n","import './styles.css';\n\nimport 'pnotify/dist/PNotifyBrightTheme.css';\nimport PNotify from 'pnotify/dist/es/PNotify';\n\nimport countryShowTemplate from './templates/countryMarkupTemplate.hbs';\nimport countriesShowTemplate from './templates/countriesMarkupTemplate.hbs';\n\nimport fetchCountries from './js/fetchCountries';\nimport spinner from './js/spinner';\n\nconst debounce = require('lodash.debounce');\n\nconst refs = {\n  inputForm: document.querySelector('#input-form'),\n  countrySection: document.querySelector('#country'),\n};\n\nrefs.inputForm.addEventListener('input', debounce(searchInputHandler, 1000));\n\nfunction searchInputHandler(e) {\n  const input = e.target;\n  clearResult();\n\n  spinner.show();\n  fetchCountries(input.value)\n    .then(checkOne => {\n      if (checkOne.length <= 10) {\n        return checkOne;\n      } else {\n        const notice = PNotify.error({\n          text: 'Too many matches find. Please enter a more specific query',\n        });\n        return notice;\n      }\n    })\n    .then(checkTwo => {\n      if (checkTwo.length === 1) {\n        return checkTwo;\n      } else {\n        checkTwo.forEach(country => {\n          return insertCountriesMarkup(country);\n        });\n      }\n    })\n    .then(countries => {\n      spinner.hide();\n      countries.forEach(country => {\n        return insertCountryMarkup(country);\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  input.value = '';\n}\n\nfunction insertCountriesMarkup(items) {\n  const markup = countriesShowTemplate(items);\n  refs.countrySection.insertAdjacentHTML('beforeend', markup);\n  refs.countrySection.classList.remove('is-hidden');\n}\n\nfunction insertCountryMarkup(item) {\n  const markup = countryShowTemplate(item);\n  refs.countrySection.insertAdjacentHTML('beforeend', markup);\n  refs.countrySection.classList.remove('is-hidden');\n}\n\nfunction clearResult() {\n  refs.countrySection.innerHTML = '';\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<ul>\\r\\n    <li>\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</li>\\r\\n</ul>\";\n},\"useData\":true});"],"sourceRoot":""}